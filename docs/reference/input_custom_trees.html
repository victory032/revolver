<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Add a custom set of trees for a patient. — input_custom_trees • revolver</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Add a custom set of trees for a patient. — input_custom_trees"><meta property="og:description" content="For a patient it is possible to add a set of precomputed trees, which need
to be stored as adjacency matrices, and must be scored and ranked by scoring.
The trees must have as nodes all the clusters that are annotated in the data
of the patient. If the patient has already some trees, these are overwritten."><meta property="og:image" content="caravagnalab.github.io/revolver/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">revolver</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.3.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/revolver.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/Cross_CRC_MSeq.html">Analysis of colorectal adenocarcinomas</a>
    </li>
    <li>
      <a href="../articles/FAQ.html">Frequently Asked Questions</a>
    </li>
    <li>
      <a href="../articles/Getters.html">Getter functions</a>
    </li>
    <li>
      <a href="../articles/Input_formats.html">Input formats and creation of a REVOLVER cohort</a>
    </li>
    <li>
      <a href="../articles/Plotting_functions.html">Plotting functions</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/caravagn/revolver/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Add a custom set of trees for a patient.</h1>
    <small class="dont-index">Source: <a href="https://github.com/caravagn/revolver/blob/HEAD/R/input_custom_trees.R" class="external-link"><code>R/input_custom_trees.R</code></a></small>
    <div class="hidden name"><code>input_custom_trees.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>For a patient it is possible to add a set of precomputed trees, which need
to be stored as adjacency matrices, and must be scored and ranked by scoring.
The trees must have as nodes all the clusters that are annotated in the data
of the patient. If the patient has already some trees, these are overwritten.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">input_custom_trees</span><span class="op">(</span><span class="va">x</span>, <span class="va">patient</span>, <span class="va">trees</span>, <span class="va">scores</span><span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>x</dt>
<dd><p>A REVOLVER cohort object.</p></dd>
<dt>patient</dt>
<dd><p>A patient in the cohort, for which the trees are created.</p></dd>
<dt>trees</dt>
<dd><p>A list a of precomputed adjacency matrices to describe the input trees.</p></dd>
<dt>scores</dt>
<dd><p>A vectore of scores for the input trees.</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A modififed REVOLVER cohort with available phylogeneis for <code>patient</code>.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>Other Cohort creation: 
<code><a href="CCF_parser.html">CCF_parser</a>()</code>,
<code><a href="compute_clone_trees.html">compute_clone_trees</a>()</code>,
<code><a href="compute_mutation_trees.html">compute_mutation_trees</a>()</code>,
<code><a href="revolver_check_cohort.html">revolver_check_cohort</a>()</code>,
<code><a href="revolver_cohort.html">revolver_cohort</a>()</code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="co"># Data released in the 'evoverse.datasets'</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">'TRACERx_NEJM_2017_REVOLVER'</span>, package <span class="op">=</span> <span class="st">'evoverse.datasets'</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># To make it simple we use some trees that are already available</span></span>
<span class="r-in"><span class="va">trees</span> <span class="op">=</span> <span class="fu"><a href="Phylo.html">Phylo</a></span><span class="op">(</span><span class="va">TRACERx_NEJM_2017_REVOLVER</span>, p <span class="op">=</span> <span class="st">"CRUK0001"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Get matrices from these objects, and remove the GL columns/ rows</span></span>
<span class="r-in"><span class="va">matrices</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">trees</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="va">x</span><span class="op">$</span><span class="va">adj_mat</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="va">x</span><span class="op">$</span><span class="va">adj_mat</span><span class="op">)</span> <span class="op">!=</span> <span class="st">'GL'</span>, <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">x</span><span class="op">$</span><span class="va">adj_mat</span><span class="op">)</span> <span class="op">!=</span> <span class="st">'GL'</span><span class="op">]</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">matrices</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $`1`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1 3 5 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 0 0 1 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 1 0 0 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 0 0 0 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 0 0 0 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $`2`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   2 3 5 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 0 0 1 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 1 0 0 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 0 0 0 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 0 0 0 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $`3`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1 5 3 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 0 1 0 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 0 0 0 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 1 0 0 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 0 0 0 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Get scores for these matrices - vector format</span></span>
<span class="r-in"><span class="va">scores</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="va">trees</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="va">x</span><span class="op">$</span><span class="va">score</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">scores</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         1         2         3 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.1111111 0.1111111 0.1111111 </span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Add these trees - this function overwrites the original ones</span></span>
<span class="r-in"><span class="va">TRACERx_NEJM_2017_REVOLVER</span> <span class="op">=</span> <span class="fu">input_custom_trees</span><span class="op">(</span></span>
<span class="r-in">  <span class="va">TRACERx_NEJM_2017_REVOLVER</span>,</span>
<span class="r-in">  patient <span class="op">=</span> <span class="st">"CRUK0001"</span>,</span>
<span class="r-in">  trees <span class="op">=</span> <span class="va">matrices</span>,</span>
<span class="r-in">  scores <span class="op">=</span> <span class="va">scores</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;"> Using custom trees for  CRUK0001</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #000000; background-color: #BBBB00;"> Combinations of Information Transfer : </span> 3 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by <a href="https://www.caravagnalab.org/" class="external-link">Giulio Caravagna</a>.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer></div>

  


  

  </body></html>

